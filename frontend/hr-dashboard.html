<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HR Dashboard - Stress Payroll System</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2><i class="fas fa-users-cog"></i> HR Portal</h2>
            </div>
            <ul class="sidebar-menu">
                <li><a href="#dashboard" class="active" data-section="dashboard">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </a></li>
                <li><a href="#employees" data-section="employees">
                    <i class="fas fa-users"></i> Employees
                </a></li>
                <li><a href="#payroll" data-section="payroll">
                    <i class="fas fa-file-invoice-dollar"></i> Payroll
                </a></li>
                <li><a href="#stress-monitoring" data-section="stress-monitoring">
                    <i class="fas fa-chart-line"></i> Stress Monitoring
                </a></li>
                <li><a href="#attendance" data-section="attendance">
                    <i class="fas fa-calendar-check"></i> Attendance
                </a></li>
                <li><a href="#" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </a></li>
            </ul>
        </nav>
        
        <!-- Main Content -->
        <main class="main-content">
            <header class="top-header">
                <h1 id="pageTitle">HR Dashboard</h1>
                <div class="user-info">
                    <span id="userName">Welcome, HR Admin</span>
                    <i class="fas fa-user-circle"></i>
                </div>
            </header>
            
            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section active">
                <div class="dashboard-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalEmployees">-</h3>
                            <p>Total Employees</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="attendanceRate">-</h3>
                            <p>Overall Attendance Rate</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="highStressEmployees">-</h3>
                            <p>High Stress Employees</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-file-invoice-dollar"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="recentPayslips">-</h3>
                            <p>Recent Payslips</p>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-charts">
                    <div class="chart-container">
                        <h3>Employee Stress Levels</h3>
                        <canvas id="stressChart"></canvas>
                    </div>
                    
                    <div class="chart-container">
                        <h3>Recent Payslips</h3>
                        <div id="recentPayslipsList" class="payslips-list">
                            <!-- Recent payslips will be loaded here -->
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-charts">
                    <div class="chart-container">
                        <h3>High Stress Employees</h3>
                        <div id="highStressList" class="stress-employees-list">
                            <!-- High stress employees will be loaded here -->
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Employees Section -->
            <section id="employees" class="content-section">
                <div class="section-header">
                    <h2>Employee Management</h2>
                    <button id="refreshEmployeesBtn" class="btn btn-secondary">
                        <i class="fas fa-sync"></i> Refresh
                    </button>
                </div>
                
                <div class="employees-table-container">
                    <table class="data-table" id="employeesTable">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Department</th>
                                <th>Position</th>
                                <th>Base Salary</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="employeesTableBody">
                            <!-- Employee data will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </section>
            
            <!-- Payroll Section -->
            <section id="payroll" class="content-section">
                <div class="section-header">
                    <h2>Payroll Management</h2>
                    <div class="section-actions">
                        <button id="viewAllPayslipsBtn" class="btn btn-secondary">
                            <i class="fas fa-list"></i> View All Payslips
                        </button>
                    </div>
                </div>
                
                <div class="payroll-content">
                    <div class="employee-selector">
                        <label for="payrollEmployeeSelect">Select Employee:</label>
                        <select id="payrollEmployeeSelect">
                            <option value="">Choose an employee...</option>
                        </select>
                    </div>
                    
                    <div id="employeePayslips" class="payslips-list">
                        <!-- Employee payslips will be loaded here -->
                    </div>
                </div>
            </section>
            
            <!-- Stress Monitoring Section -->
            <section id="stress-monitoring" class="content-section">
                <div class="section-header">
                    <h2>Stress Level Monitoring</h2>
                    <div class="section-actions">
                        <button id="refreshStressDataBtn" class="btn btn-secondary">
                            <i class="fas fa-sync"></i> Refresh Data
                        </button>
                    </div>
                </div>
                
                <div class="stress-monitoring-content">
                    <div class="employee-selector">
                        <label for="stressEmployeeSelect">Select Employee:</label>
                        <select id="stressEmployeeSelect">
                            <option value="">Choose an employee...</option>
                        </select>
                    </div>
                    
                    <div id="employeeStressData" class="stress-data">
                        <!-- Employee stress data will be loaded here -->
                    </div>
                </div>
            </section>
            
            <!-- Attendance Section -->
            <section id="attendance" class="content-section">
                <div class="section-header">
                    <h2>Attendance Management</h2>
                    <div class="section-actions">
                        <button id="addAttendanceBtn" class="btn btn-primary">
                            <i class="fas fa-plus"></i> Add Attendance Record
                        </button>
                    </div>
                </div>
                
                <div class="attendance-content">
                    <div class="employee-selector">
                        <label for="attendanceEmployeeSelect">Select Employee:</label>
                        <select id="attendanceEmployeeSelect">
                            <option value="">Choose an employee...</option>
                        </select>
                    </div>
                    
                    <div class="attendance-filters">
                        <div class="filter-group">
                            <label for="attendanceMonth">Month:</label>
                            <select id="attendanceMonth">
                                <option value="">All Months</option>
                                <option value="1">January</option>
                                <option value="2">February</option>
                                <option value="3">March</option>
                                <option value="4">April</option>
                                <option value="5">May</option>
                                <option value="6">June</option>
                                <option value="7">July</option>
                                <option value="8">August</option>
                                <option value="9">September</option>
                                <option value="10">October</option>
                                <option value="11">November</option>
                                <option value="12">December</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="attendanceYear">Year:</label>
                            <input type="number" id="attendanceYear" min="2020" max="2030">
                        </div>
                        <button id="filterAttendanceBtn" class="btn btn-secondary">Filter</button>
                    </div>
                    
                    <div id="employeeAttendance" class="attendance-data">
                        <!-- Employee attendance data will be loaded here -->
                    </div>
                </div>
                
                <!-- Add Attendance Modal -->
                <div id="addAttendanceModal" class="modal" style="display: none;">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <h2>Add Attendance Record</h2>
                        <form id="addAttendanceForm">
                            <div class="form-group">
                                <label for="attendanceEmployeeModal">Employee</label>
                                <select id="attendanceEmployeeModal" name="userId" required>
                                    <option value="">Select Employee</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="attendanceDate">Date</label>
                                <input type="date" id="attendanceDate" name="date" required>
                            </div>
                            <div class="form-group">
                                <label for="attendanceStatus">Status</label>
                                <select id="attendanceStatus" name="status" required>
                                    <option value="present">Present</option>
                                    <option value="paid_leave">Paid Leave</option>
                                    <option value="unpaid_leave">Unpaid Leave</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary">Add Record</button>
                        </form>
                    </div>
                </div>
            </section>
        </main>
    </div>
    
    <script src="js/auth.js"></script>
    <script src="js/hr-dashboard.js"></script>
</body>
</html>
